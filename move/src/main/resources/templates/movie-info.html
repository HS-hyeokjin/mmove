<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <head th:include="fragments/header :: head"></head>
    <title>Movie Info</title>

</head>
<body>

<div class="container-fluid">
    <div class="row">
        <div th:replace="fragments/sidebar :: nav" class="col-md-2"></div>
        <div class="col-md-10">
            <div class="row">
                <div class="col-md-3" th:style="'background-image: url(' + ${movieInfoData.movieInfoResult.movieInfo.imageUrl} + '); background-repeat: no-repeat; background-position: center center; background-size: cover; opacity: 1;'">
                    <img th:src="${movieInfoData.movieInfoResult.movieInfo.imageUrl}" alt="Movie Poster" class="img-fluid">
                </div>
                <div class="col-md-8">
                    <h1 class="mb-4"
                        th:text="${movieInfoData.movieInfoResult.movieInfo.movieNm + ' (' +movieInfoData.movieInfoResult.movieInfo.movieNmEn + ')'}"></h1>
                    <p>
                        <span th:text="${movieInfoData.movieInfoResult.movieInfo.prdtYear + '년 |'}"></span>
                        <span th:text="${movieInfoData.movieInfoResult.movieInfo.typeNm + ' | '}"></span>
                        <span th:text="${movieInfoData.movieInfoResult.movieInfo.showTm + '분 | '}"></span>
                        <span th:each="genre, iterStat : ${movieInfoData.movieInfoResult.movieInfo.genres}"
                              th:text="${genre.genreNm} + ( ${iterStat.last} ? '' : ' | ' )"></span></p>
                    <hr>
                    <p><strong>MovieCode : </strong> <span
                            th:text="${movieInfoData.movieInfoResult.movieInfo.movieCd}"></span></p>
                    <p><strong>개봉일: </strong> <span th:text="${movieInfoData.movieInfoResult.movieInfo.openDt}"></span></p>
                    <p><strong>감독 : </strong> <span th:each="director, iterStat : ${movieInfoData.movieInfoResult.movieInfo.directors}"
                                                    th:text="${director.peopleNm} + ( ${iterStat.last} ? '' : ' | ')"></span>  </p>
                    <p><span th:text="${movieInfoData.movieInfoResult.movieInfo.overview}"></span></p>
                </div>
            </div>
            <hr>
            <div class="row">
                <div th:each="actor : ${movieInfoData.movieInfoResult.movieInfo.actors}" class="col-md-1 mb-4">
                    <a th:href="@{/person-detail/{actorName}(actorName=${actor.peopleNmEn})}" class="text-decoration-none">
                        <div class="card border-dark">
                            <img th:src="${#strings.isEmpty(actor.peopleImageUrl) ? '/images/default-person-image.jpg' : actor.peopleImageUrl}" class="card-img-top" alt="Actor Image" width="200">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${actor.peopleNm}"></h5>
                                <p class="card-text">
                                    <span th:text="${actor.cast}"></span>
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div th:replace="fragments/footer :: footer"></div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
<script th:inline="javascript">
    $(document).ready(function () {
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd',
            autoclose: true
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>
</html>
